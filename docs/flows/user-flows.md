# User Flows

## 1. Onboarding & Registration Flow

### First-Time User Journey
```
1. App Launch
   ↓
2. Splash Screen
   ↓
3. Welcome/Onboarding Screens (3-4 slides)
   - What is SwapJoy
   - How it works
   - Benefits
   ↓
4. Sign Up / Log In Options
   - Email/Password
   - Google Sign In
   - Apple Sign In
   - Facebook Login
   ↓
5. Account Creation
   a) Email Registration:
      - Enter email
      - Create password
      - Accept terms & conditions
      - Submit
      - Email verification sent
   b) Social Login:
      - Authorize access
      - Auto-create account
   ↓
6. Profile Setup (Step by step)
   - Upload profile photo (optional)
   - Enter name
   - Add bio (optional)
   - Set location (auto-detect or manual)
   - Select interests/categories
   ↓
7. Enable Permissions
   - Location access
   - Camera access
   - Notifications
   ↓
8. Quick Tutorial
   - How to list items
   - How to browse
   - How to make offers
   ↓
9. Home Screen
```

## 2. Returning User Flow

```
1. App Launch
   ↓
2. Auto-login (if token valid)
   ↓
3. Home Screen with:
   - Nearby items
   - Recommended matches
   - Recent activity
   - Notifications badge
```

## 3. Item Listing Flow

### Create New Item
```
1. Home Screen
   ↓
2. Tap "+" or "List Item" button
   ↓
3. Add Photos
   - Take photo
   - Choose from gallery
   - Add 1-10 photos
   - Reorder photos
   ↓
4. Item Details Form
   - Title (required)
   - Description (required)
   - Category (required)
   - Subcategory
   - Condition (New/Like New/Good/Fair/Poor)
   - Estimated value (optional)
   - Dimensions/specs (optional)
   ↓
5. What You're Looking For (optional)
   - Specific items
   - Categories
   - Open to offers
   ↓
6. Review Item
   - Preview how it looks
   - Edit if needed
   ↓
7. Publish
   ↓
8. Success Screen
   - Share on social media
   - View your item
   - List another item
```

## 4. Item Discovery Flow

### Browse Items
```
1. Home Screen or Explore Tab
   ↓
2. Browse Options:
   a) Browse by Category
      - Select category
      - View items in category
      - Filter/sort
   
   b) Browse Nearby
      - Map view
      - List view
      - Filter by distance
   
   c) Search
      - Enter keywords
      - Apply filters
      - View results
   ↓
3. View Item Card
   - Image
   - Title
   - Distance
   - Condition
   - User rating
   ↓
4. Tap for Item Details
```

### Item Detail View
```
1. Item Detail Screen
   - Photo gallery (swipeable)
   - Title
   - Description
   - Category
   - Condition
   - Posted date
   - Distance from you
   - User profile preview
   - User rating
   ↓
2. Action Options:
   - Make an Offer
   - Save to Favorites
   - Share
   - Report
   - Message Owner
   - View Similar Items
   - View Owner's Profile
```

## 5. Making an Offer Flow

### Send Offer
```
1. Item Detail Screen
   ↓
2. Tap "Make an Offer"
   ↓
3. Select Your Items
   - Browse your listed items
   - Select 1 or multiple items
   - Can add items not yet listed
   ↓
4. Review Trade
   - Their item(s)
   - Your item(s)
   - Value comparison
   ↓
5. Add Message (optional)
   - Explain why good trade
   - Ask questions
   - Suggest meeting spot
   ↓
6. Send Offer
   ↓
7. Offer Sent Confirmation
   - Notification sent to other user
   - Track in "Offers Sent"
```

## 6. Receiving an Offer Flow

### Receive and Respond
```
1. Push Notification: "You have a new offer!"
   ↓
2. Tap Notification → Offer Detail
   OR
   Offers Tab → New Offer Badge
   ↓
3. View Offer Details
   - Their offered item(s)
   - Your item(s) they want
   - User profile
   - User rating
   - Message from sender
   - Distance
   ↓
4. View Offered Item Details
   - Click to see full details
   - View photos
   - Check condition
   ↓
5. Decision Options:
   a) Accept Offer
      ↓
      - Accept confirmation
      - Open chat
      - Arrange meetup
   
   b) Decline Offer
      ↓
      - Optional: Add reason
      - Send decline notification
   
   c) Counter Offer
      ↓
      - Suggest different items
      - Add message
      - Send counter
   
   d) Message
      ↓
      - Ask questions first
      - Negotiate
```

## 7. Chat & Coordination Flow

### After Offer Accepted
```
1. Offer Accepted Notification
   ↓
2. Chat Automatically Opens
   ↓
3. Coordinate Details:
   - Agree on meeting place
   - Agree on time
   - Exchange any questions
   - Share additional photos if needed
   ↓
4. Suggest Meeting Location
   - Choose from suggestions (public places)
   - Custom location
   - Share on map
   ↓
5. Confirm Meeting
   - Time
   - Place
   - Add to calendar (optional)
   ↓
6. Meeting Reminder Notification
   - 1 day before
   - 1 hour before
```

## 8. Swap Completion Flow

### Complete the Swap
```
1. Meet in Person
   ↓
2. Exchange Items
   ↓
3. App Reminder: "Confirm Swap"
   ↓
4. Both Users Confirm Swap
   - "Yes, swap completed"
   - "No, swap didn't happen"
   ↓
5. Rate & Review
   - Rate other user (1-5 stars)
   - Write review (optional)
   - Submit
   ↓
6. Completion Screen
   - Congratulations message
   - Environmental impact (items saved)
   - Badges/achievements earned
   - Share success story
   ↓
7. Items Marked as Swapped
   - Removed from active listings
   - Added to swap history
```

## 9. Search Flow

### Advanced Search
```
1. Search Tab or Search Bar
   ↓
2. Enter Keywords
   - Auto-suggestions
   - Recent searches
   ↓
3. Apply Filters
   - Category
   - Condition
   - Distance (radius)
   - Value range
   - Sort by (newest, nearest, relevant)
   ↓
4. View Results
   - Grid or list view
   - Load more
   ↓
5. Refine Search
   - Adjust filters
   - Save search
   - Get alerts for new matches
```

## 10. Profile Management Flow

### View/Edit Profile
```
1. Profile Tab
   ↓
2. View Profile
   - Profile photo
   - Name
   - Bio
   - Member since
   - Location
   - Rating
   - Number of swaps
   - Badges
   - Active listings
   - Swap history
   ↓
3. Edit Profile
   - Change photo
   - Update bio
   - Update location
   - Privacy settings
   ↓
4. Settings
   - Notifications preferences
   - Privacy settings
   - Account settings
   - Help & support
   - Log out
```

## 11. Wishlist Flow

### Manage Wishlist
```
1. Wishlist Tab
   ↓
2. Add Item to Wishlist
   - From item detail page
   - Or create custom want
   ↓
3. Wishlist Items
   - Categories wanted
   - Specific items saved
   - Match alerts on/off
   ↓
4. Receive Match Notification
   - "We found something you want!"
   - View matched item
   - Make offer
```

## 12. Notifications Flow

### Notification Types & Actions
```
1. Notification Received
   Types:
   - New offer received
   - Offer accepted/declined
   - Counter offer received
   - New message
   - Item match found
   - Swap reminder
   - Profile visitor
   - New follower
   ↓
2. Tap Notification
   ↓
3. Navigate to Relevant Screen
   - Offer details
   - Chat
   - Item details
   - Profile
```

## 13. Reporting & Safety Flow

### Report User or Item
```
1. Item Detail or User Profile
   ↓
2. Tap "Report" or "..."
   ↓
3. Select Reason
   - Inappropriate content
   - Spam
   - Fake item
   - Suspicious behavior
   - Other
   ↓
4. Add Details (optional)
   ↓
5. Submit Report
   ↓
6. Confirmation
   - "Thank you for reporting"
   - "We'll review this"
   ↓
7. Optional: Block User
```

## 14. Error & Edge Case Flows

### Network Error
```
1. Action Attempted (e.g., send offer)
   ↓
2. No Connection
   ↓
3. Error Message
   - "No internet connection"
   - Queue action for later (if applicable)
   ↓
4. Retry or Cancel
```

### Authentication Error
```
1. Token Expired
   ↓
2. Redirect to Login
   ↓
3. Re-authenticate
   ↓
4. Return to Previous Screen
```

### Item No Longer Available
```
1. Try to View/Offer on Item
   ↓
2. Item Already Swapped/Deleted
   ↓
3. Error Message
   - "This item is no longer available"
   - Show similar items
```

